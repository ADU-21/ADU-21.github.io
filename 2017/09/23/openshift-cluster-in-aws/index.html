<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="杜屹东的博客"><meta name="keywords" content="云, AWS, Cloud, DevOps, 持续交付, 敏捷, Python"><title>Openshift 多节点部署 | 杜屹东的博客</title><link rel="stylesheet" type="text/css" href="//fonts.css.network/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.0"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.0"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Openshift 多节点部署</h1><a id="logo" href="/.">杜屹东的博客</a><p class="description">Cloud &amp; DevOps</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索..."></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">Openshift 多节点部署</h1><div class="post-meta"><span class="date">Sep 23, 2017</span><span class="category"><a href="/categories/Cloud-PaaS/">Cloud &amp; PaaS</a></span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i> Hits</i></i></span><a href="/2017/09/23/openshift-cluster-in-aws/#comments" class="comment-count"><i data-disqus-identifier="2017/09/23/openshift-cluster-in-aws/" class="disqus-comment-count"></i> 留言</a></div><div class="post-content"><p>本文介绍如何在 AWS 中搭建一个 Openshift 集群。</p>
<p>主要用到的资源：<a href="https://github.com/openshift/openshift-ansible-contrib/tree/master/reference-architecture/aws-ansible" target="_blank" rel="external">https://github.com/openshift/openshift-ansible-contrib/tree/master/reference-architecture/aws-ansible</a></p>
<p>开始之前你最好对这这些知识点有一定了解：<a href="https://www.duyidong.com/2017/02/28/AWS-Services-Overview/">AWS</a> (<a href="https://www.duyidong.com/2017/03/15/AWS-EC2/">EC2</a>, ELB, <a href="https://www.duyidong.com/2017/03/06/%E6%B5%85%E8%B0%88AWS-IAM/">IAM</a>, <a href="https://www.duyidong.com/2016/08/02/AWS%E4%B9%8BCloudFormation/">CloudFormation</a>)，<a href="https://www.duyidong.com/2016/06/15/Ansible%E5%AD%A6%E4%B9%A0%E5%B0%8F%E8%AE%B0/">Ansible</a>，<a href="https://www.duyidong.com/2016/08/05/Bash%E5%AD%A6%E4%B9%A0%E5%B0%8F%E8%AE%A1/">Bash</a>，同时建议先看看本博客中关于 Openshift 和 Kubernetes 的基础知识：<a href="https://www.duyidong.com/2017/06/14/kubernetes-and-openshift/">Part 1</a> <a href="https://www.duyidong.com/2017/06/15/kubernetes-infrastructure/">Part 2</a> <a href="https://www.duyidong.com/2017/06/15/openshift-quick-start/">Part 3</a></p>
<p>完整的 Openshift 架构：</p>
<p><img src="https://github.com/openshift/openshift-ansible-contrib/raw/master/reference-architecture/aws-ansible/images/arch.jpg" alt=""></p>
<h1 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h1><ul>
<li>使用 Route53 申请一个域名。这里注册为 <code>oc-tw.net</code> ，后文中出现这个 <code>oc-tw.net</code> 的部分请替换为注册域名。</li>
<li>选择一个至少有 3 个 AZ 的 Region。这里选择为悉尼，Region id（可在console的 URL 中获得）为：ap-southeast-2。</li>
</ul>
<h1 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h1><h2 id="创建堡垒机"><a href="#创建堡垒机" class="headerlink" title="创建堡垒机"></a>创建堡垒机</h2><p>这个堡垒机是用于运行 Ansible 脚本及配置集群使用，并非 Openshift 集群的一部分。所以可以用手动创建的方式，可以选择在本地运行。</p>
<p>从 Marketplace 找一个 Centos7 的 AMI （如图所示）创建一个 EC2 instance 并绑定一个 EIP，开启 22 端口。</p>
<p><img src="/images/aws_marketplace_ami_centos7.png" alt=""></p>
<p>Instance 启动完成后，登录到堡垒机上，执行如下安装命令：（后面的全部命令行操作均在堡垒机上执行）</p>
<pre><code>yum -y install atomic-openshift-utils ansible openshift-ansible-playbooks
rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
yum -y install python2-boto \
                 pyOpenSSL \
                 git \
                 python-netaddr \
                 python-six \
                 python2-boto3 \
                 python-click \
                 python-httplib2

rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
yum -y install python-pip git python2-boto \
                 python-netaddr python-httplib2 python-devel \
                 gcc libffi-devel openssl-devel python2-boto3 \
                 python-click python-six pyOpenSSL
</code></pre><h2 id="获取-Ansible-脚本"><a href="#获取-Ansible-脚本" class="headerlink" title="获取 Ansible 脚本"></a>获取 Ansible 脚本</h2><pre><code>mkdir -p /usr/share/ansible/openshift-ansible
# Openshift 官方配置脚本
git clone https://github.com/openshift/openshift-ansible.git /usr/share/ansible/openshift-ansible

# contribution 脚本
git clone https://github.com/openshift/openshift-ansible.git
cd openshift-ansible-contrib/reference-architecture/aws-ansible/
</code></pre><h2 id="配置-SSH"><a href="#配置-SSH" class="headerlink" title="配置 SSH"></a>配置 SSH</h2><pre><code>vi ~/.ssh/config
Host *.oc-tw.net           # 这里需要替换申请来的注册域名
     ProxyCommand               ssh ec2-user@bastion -W %h:%p   
     IdentityFile               /root/.ssh/yidong_ohio_openshift.pem

Host bastion
     Hostname                   bastion.oc-tw.net       # 替换为注册域名
     user                       ec2-user            
     StrictHostKeyChecking      no
     ProxyCommand               none
     CheckHostIP                no
     ForwardAgent               yes
     IdentityFile               /root/.ssh/yidong_sydney.pem  # 保存在本地的 ssh 私钥
</code></pre><h2 id="AWS-秘钥对写入环境变量"><a href="#AWS-秘钥对写入环境变量" class="headerlink" title="AWS 秘钥对写入环境变量"></a>AWS 秘钥对写入环境变量</h2><p>由于堡垒机需要申请 AWS 资源并取得配置权限，所以需要配置 AWS 秘钥对，这里因为 Ansible 是从环境变量里获得 AWS 秘钥的，所以没有使用 IAM role。</p>
<pre><code>export AWS_ACCESS_KEY_ID=foo
export AWS_SECRET_ACCESS_KEY=bar
</code></pre><h2 id="设置-Github-OAuth"><a href="#设置-Github-OAuth" class="headerlink" title="设置 Github OAuth"></a>设置 Github OAuth</h2><p>这里需要使用 github OAuth 完成单点登录设置，参照<a href="https://help.github.com/enterprise/2.10/admin/guides/user-management/using-github-oauth/" target="_blank" rel="external">官方文档</a>。</p>
<p><img src="/images/Github_OAuth_App.png" alt=""></p>
<p><strong>Homepage URL</strong> 格式为：<a href="https://openshift-master.oc-tw.net" target="_blank" rel="external">https://openshift-master.oc-tw.net</a> （一二级域名替换为注册域名）</p>
<p><strong>Authorization callback URL</strong> 格式为：<a href="https://openshift-master.oc-tw.net/oauth2callback/github" target="_blank" rel="external">https://openshift-master.oc-tw.net/oauth2callback/github</a>（一二级域名替换为注册域名）</p>
<p>OAuth App 添加完成后将会得到一个 <strong>Client ID</strong> 和一个 <strong>Client Secret</strong>，后面会使用到。</p>
<h1 id="执行"><a href="#执行" class="headerlink" title="执行"></a>执行</h1><p>在堡垒机中<code>openshift-ansible-contrib/reference-architecture/aws-ansible/</code>目录下创建并执行如下脚本：</p>
<pre><code>./ose-on-aws.py \
--keypair=yidong_sydney \                    # 所以 EC2 Instance 用于通信的 keypair
--public-hosted-zone=oc-tw.net \             # 注册域名
--deployment-type=origin \                   # 在 Region 部署(会创建 VPC )
--ami=ami-ccecf5af \                         # 注意*
--github-client-secret=&lt;Client Secret&gt; \     # Github Client Secret
--github-organization=&lt;Organization name&gt; \  # Github 中 OAuth Organization 的名字
--github-client-id=&lt;Client ID&gt; \             # Github Client ID
--region=ap-southeast-2 \                    # 堡垒机所在 Region，也是创建 Openshift 集群的 Region
--key-path=/root/.ssh/yidong_sydney.pem \    # 堡垒机上私钥存放位置
--containerized=true                         # 集群以容器的方式启动
</code></pre><blockquote>
<p>*这里有一个需要特别注意的地方，就是 AMI 必须使用 RHEL 的 AMI，在 AWS 中 RHEL 会比 CentOS 大约贵 30%，但是使用 CentOS 会比 REHL 缺很多包，安装起来非常麻烦，所以建议直接使用 RHEL，AMI ID 可以在直接在 AWS EC2 lunch instance 的界面中找到。</p>
</blockquote>
<p>还有很多可配置项，保持默认值即可。</p>
<h2 id="创建集群基础设施"><a href="#创建集群基础设施" class="headerlink" title="创建集群基础设施"></a>创建集群基础设施</h2><p>运行脚本，大致逻辑是：</p>
<p>使用 Cloudformation 创建基础设施资源 -&gt; 使用 Ansible连接 EC2 instance 并配置集群 -&gt; 开启监控和日志搜集。</p>
<p>Cloudformation 里的基础设施大致包含：EC2, EIP, SG, ELB,  IAM(User, Role, Policy, AccessKey), VPC(RouteTable, Subnet, Route, InternetGateway, RouteTable), NatGateway。</p>
<p><img src="/images/Openshift_Instances.png" alt=""></p>
<blockquote>
<p>注意：这套脚本所启动的集群至少需要 9 个 EC2 instance，（如图所示）从 t2.micro 到 m4.xlarge，在Cloudformation 创建开始后，如果你的账户没有在免费试用期每小时大概会划费 2-3$，具体参见<a href="https://aws.amazon.com/ec2/pricing/on-demand/" target="_blank" rel="external">官方文档</a>，注意选择<code>RHEL</code>和<code>你所在的Region</code>，价格会有差异。</p>
</blockquote>
<h2 id="Trouble-Shooting"><a href="#Trouble-Shooting" class="headerlink" title="Trouble Shooting"></a>Trouble Shooting</h2><p>Ansible 脚本的运行时间大概在一个小时，有 4000+ 个 Tasks（有的是重复执行），这里列举一些常见错误并给出解决思路。</p>
<h3 id="Anisble-连接不上目标机"><a href="#Anisble-连接不上目标机" class="headerlink" title="Anisble 连接不上目标机"></a>Anisble 连接不上目标机</h3><p>形如下图，如果错误中包含连接错误或是 SSH 问题，</p>
<p><img src="/images/Ansibe_Trouble_SSH.png" alt=""></p>
<p>Repo 里的 Ansible 是通过 SSH 连接配置目标机的，这种情况以下三种原因基本可以覆盖：</p>
<ol>
<li>SSH Config 没写对</li>
<li>Key Pair 有问题</li>
<li>服务器指纹有问题</li>
</ol>
<p>排查思路：直接尝试从堡垒机 SSH 到目标机（<code>ssh &lt;instance name&gt;</code>这里因为配置了域名解析所以可以直接用 instance name ssh），再根据错误信息排查（可以跟上参数 -vvvv 打印详细日志），如果 SSH 能成功，Ansible 执行也就没有问题。</p>
<h3 id="找不到-Docker"><a href="#找不到-Docker" class="headerlink" title="找不到 Docker"></a>找不到 Docker</h3><p>形如：</p>
<p><img src="/images/Ansible_Trouble_Docker_NotFound.png" alt=""></p>
<p>是由于 Docker registry 没有配置正确，需要手动到机器上执行 <code>yum-config-manager --enable rhui-REGION-rhel-server-extras</code>，写个 for 循环自动执行：</p>
<pre><code>all_hosts=&quot;master01 master02 master03 app-node01 app-node02 infra-node01 infra-node02 infra-node03&quot;
for h in $all_hosts; do ssh ec2-user@ose-$h.oc-tw.net &#39;sudo yum-config-manager --enable rhui-REGION-rhel-server-extras -y&#39;; done
</code></pre><h3 id="缺少依赖"><a href="#缺少依赖" class="headerlink" title="缺少依赖"></a>缺少依赖</h3><p>形如：</p>
<p><img src="/images/Ansible_Trouble_Dependence.png" alt=""></p>
<p>解决思路比较简单，缺什么装什么，比如缺少<code>httpd-tools</code>:</p>
<pre><code>sudo yum install -y httpd-tools
</code></pre><p>不过有的包可能会麻烦点，需要在网上找一下，比如<code>python-passlib</code>:</p>
<pre><code>rpm -Uvh ftp://rpmfind.net/linux/centos/7.4.1708/extras/x86_64/Packages/python-passlib-1.6.5-2.el7.noarch.rpm
</code></pre><h1 id="安装成功"><a href="#安装成功" class="headerlink" title="安装成功"></a>安装成功</h1><p><img src="/images/Openshift_Install_Success.png" alt=""></p>
<p>经过一段时间的运行，脚本跑完的时候也就说明 Openshift 安装成功了，这个时候你可以通过<a href="https://openshift-master.oc-tw.net/console/" target="_blank" rel="external">https://openshift-master.oc-tw.net/console/</a> 这个连接访问它的 Console 界面，直接使用 GitHub账号登录。</p>
<p>同时一个外部可访问的 Registry 也被创建出来（如图） <a href="https://registry-console-default.apps.oc-tw.net/" target="_blank" rel="external">https://registry-console-default.apps.oc-tw.net/</a></p>
<p><img src="/images/Openshift_Registry_Console.png" alt=""></p>
<p>查看 Node，登录到其中一台 master node 上执行 <code>oc get nodes -o wide</code></p>
<p><img src="/images/Openshift_Cluster_Nodes.png" alt=""></p>
<h1 id="命令行登录"><a href="#命令行登录" class="headerlink" title="命令行登录"></a>命令行登录</h1><p>使用 Token 登录，可以在 <a href="https://openshift-master.oc-tw.net/console/command-line" target="_blank" rel="external">https://openshift-master.oc-tw.net/console/command-line</a> 获取登录 Token</p>
<pre><code>oc login https://openshift-master.oc-tw.net --token=bcD3sprC9hjOgopov9VfbHEaBbPK03WQt23MXm-KtGw
# 尝试创建新 app
oc new-app centos/ruby-22-centos7~https://github.com/openshift/ruby-ex.git
</code></pre><h1 id="更多命令"><a href="#更多命令" class="headerlink" title="更多命令"></a>更多命令</h1><p>添加 Node：</p>
<pre><code>./add-node.py --region=us-east-2 --keypair=yidong_sydney --public-hosted-zone=oc-tw.net --deployment-type=origin --ami=ami-ccecf5af \
--use-cloudformation-facts --subnet-id=subnet-1139825c \
--node-type=app --shortname=ose-app-node03 --existing-stack=openshift-infra
</code></pre><p>销毁 Openshift 集群：（也可以直接删除 Cloudformation Stack）</p>
<pre><code>
ansible-playbook -i inventory/aws/hosts \
    -e &#39;region=us-east-2 stack_name=openshift-infra ci=true&#39; \
    -e &#39;extra_app_nodes=openshift-infra-ose-app-node03&#39; \
    playbooks/teardown.yaml
</code></pre></div><div class="tags"><a href="/tags/AWS/">AWS</a><a href="/tags/DevOps/">DevOps</a><a href="/tags/PaaS/">PaaS</a><a href="/tags/Openshift/">Openshift</a><a href="/tags/Kubernetes/">Kubernetes</a><a href="/tags/平台即服务/">平台即服务</a></div><div class="post-share"><div class="addToAny_share">分享到 : <a href="https://www.addtoany.com/share?linkurl=https://www.duyidong.com/2017/09/23/openshift-cluster-in-aws/index.html&amp;linkname=Openshift 多节点部署" target="_blank"><img src="https://static.addtoany.com/buttons/a2a.svg" width="16" height="16" style="vertical-align:middle"></a>&nbsp;<a href="https://www.addtoany.com/add_to/twitter?linkurl=https://www.duyidong.com/2017/09/23/openshift-cluster-in-aws/index.html&amp;linkname=Openshift 多节点部署" target="_blank"><img src="https://static.addtoany.com/buttons/twitter.svg" width="16" height="16" style="vertical-align:middle"></a>&nbsp;<a href="https://www.addtoany.com/add_to/baidu?linkurl=https://www.duyidong.com/2017/09/23/openshift-cluster-in-aws/index.html&amp;linkname=Openshift 多节点部署" target="_blank"><img src="https://static.addtoany.com/buttons/baidu.svg" width="16" height="16" style="vertical-align:middle"></a>&nbsp;<a href="https://www.addtoany.com/add_to/facebook?linkurl=https://www.duyidong.com/2017/09/23/openshift-cluster-in-aws/index.html&amp;linkname=Openshift 多节点部署" target="_blank"><img src="https://static.addtoany.com/buttons/facebook.svg" width="16" height="16" style="vertical-align:middle"></a>&nbsp;<a href="https://www.addtoany.com/add_to/google_plus?linkurl=https://www.duyidong.com/2017/09/23/openshift-cluster-in-aws/index.html&amp;linkname=Openshift 多节点部署" target="_blank"><img src="https://static.addtoany.com/buttons/google_plus.svg" width="16" height="16" style="vertical-align:middle"></a>&nbsp;<a href="https://www.addtoany.com/add_to/linkedin?linkurl=https://www.duyidong.com/2017/09/23/openshift-cluster-in-aws/index.html&amp;linkname=Openshift 多节点部署" target="_blank"><img src="https://static.addtoany.com/buttons/linkedin.svg" width="16" height="16" style="vertical-align:middle"></a>&nbsp;<a href="https://www.addtoany.com/add_to/email?linkurl=https://www.duyidong.com/2017/09/23/openshift-cluster-in-aws/index.html&amp;linkname=Openshift 多节点部署" target="_blank"><img src="https://static.addtoany.com/buttons/email.svg" width="16" height="16" style="vertical-align:middle"></a>&nbsp;</div></div><div class="post-nav"><a href="/2017/09/19/tw-tech-interview/" class="next">ThoughtWorks 技术面试</a></div><div id="comments"><div id="disqus_thread"></div></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#准备"><span class="toc-text">准备</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#开始"><span class="toc-text">开始</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#创建堡垒机"><span class="toc-text">创建堡垒机</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#获取-Ansible-脚本"><span class="toc-text">获取 Ansible 脚本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#配置-SSH"><span class="toc-text">配置 SSH</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AWS-秘钥对写入环境变量"><span class="toc-text">AWS 秘钥对写入环境变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#设置-Github-OAuth"><span class="toc-text">设置 Github OAuth</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#执行"><span class="toc-text">执行</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#创建集群基础设施"><span class="toc-text">创建集群基础设施</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Trouble-Shooting"><span class="toc-text">Trouble Shooting</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Anisble-连接不上目标机"><span class="toc-text">Anisble 连接不上目标机</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#找不到-Docker"><span class="toc-text">找不到 Docker</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#缺少依赖"><span class="toc-text">缺少依赖</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#安装成功"><span class="toc-text">安装成功</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#命令行登录"><span class="toc-text">命令行登录</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#更多命令"><span class="toc-text">更多命令</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/09/23/openshift-cluster-in-aws/">Openshift 多节点部署</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/19/tw-tech-interview/">ThoughtWorks 技术面试</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/30/what-new-in-java8/">Java 8 新特性</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/14/what-is-devops/">DevOps 从理论到实践</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/12/the-three-ways-understanding-devops/">DevOps的三种方式</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/20/reveal-js-quick-start/">如何制作在线幻灯片</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/15/openshift-quick-start/">PaaS 平台（三）-- Openshift 使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/15/kubernetes-infrastructure/">PaaS 平台（二） -- Kubernetes 介绍</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/14/kubernetes-and-openshift/">PaaS 平台（一） -- Openshift 介绍</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/08/work-in-blackops/">DevOps 团队交付了什么？</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Amazon-Web-Services/">Amazon Web Services</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Cloud-PaaS/">Cloud & PaaS</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Coding/">Coding</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/">DevOps</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ThoughtWorks/">ThoughtWorks</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/学习总结/">学习总结</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/我的博客/">我的博客</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/持续交付/">持续交付</a><span class="category-list-count">3</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/Infrastructure-as-Code/" style="font-size: 15px;">Infrastructure as Code</a> <a href="/tags/大事记/" style="font-size: 15px;">大事记</a> <a href="/tags/面试/" style="font-size: 15px;">面试</a> <a href="/tags/vim/" style="font-size: 15px;">vim</a> <a href="/tags/工具/" style="font-size: 15px;">工具</a> <a href="/tags/学习/" style="font-size: 15px;">学习</a> <a href="/tags/小结/" style="font-size: 15px;">小结</a> <a href="/tags/小计/" style="font-size: 15px;">小计</a> <a href="/tags/AWS/" style="font-size: 15px;">AWS</a> <a href="/tags/Serverless/" style="font-size: 15px;">Serverless</a> <a href="/tags/无服务器架构/" style="font-size: 15px;">无服务器架构</a> <a href="/tags/Lambda/" style="font-size: 15px;">Lambda</a> <a href="/tags/S3/" style="font-size: 15px;">S3</a> <a href="/tags/Blog/" style="font-size: 15px;">Blog</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/云计算/" style="font-size: 15px;">云计算</a> <a href="/tags/HTTPS/" style="font-size: 15px;">HTTPS</a> <a href="/tags/CDN/" style="font-size: 15px;">CDN</a> <a href="/tags/Cloudfront/" style="font-size: 15px;">Cloudfront</a> <a href="/tags/Route53/" style="font-size: 15px;">Route53</a> <a href="/tags/博客上云/" style="font-size: 15px;">博客上云</a> <a href="/tags/亚马逊认证与权限/" style="font-size: 15px;">亚马逊认证与权限</a> <a href="/tags/Security/" style="font-size: 15px;">Security</a> <a href="/tags/IAM/" style="font-size: 15px;">IAM</a> <a href="/tags/对象存储服务/" style="font-size: 15px;">对象存储服务</a> <a href="/tags/云计算认证/" style="font-size: 15px;">云计算认证</a> <a href="/tags/Certification/" style="font-size: 15px;">Certification</a> <a href="/tags/AWS认证考试/" style="font-size: 15px;">AWS认证考试</a> <a href="/tags/EC2/" style="font-size: 15px;">EC2</a> <a href="/tags/Cloud-Native/" style="font-size: 15px;">Cloud Native</a> <a href="/tags/Cloud/" style="font-size: 15px;">Cloud</a> <a href="/tags/翻译/" style="font-size: 15px;">翻译</a> <a href="/tags/文档规范/" style="font-size: 15px;">文档规范</a> <a href="/tags/架构/" style="font-size: 15px;">架构</a> <a href="/tags/职场/" style="font-size: 15px;">职场</a> <a href="/tags/ThoughtWorks/" style="font-size: 15px;">ThoughtWorks</a> <a href="/tags/ThoughtWorks技术雷达/" style="font-size: 15px;">ThoughtWorks技术雷达</a> <a href="/tags/基础设施即代码/" style="font-size: 15px;">基础设施即代码</a> <a href="/tags/持续交付/" style="font-size: 15px;">持续交付</a> <a href="/tags/DevOps/" style="font-size: 15px;">DevOps</a> <a href="/tags/PaaS/" style="font-size: 15px;">PaaS</a> <a href="/tags/Openshift/" style="font-size: 15px;">Openshift</a> <a href="/tags/Kubernetes/" style="font-size: 15px;">Kubernetes</a> <a href="/tags/平台即服务/" style="font-size: 15px;">平台即服务</a> <a href="/tags/reveal-js/" style="font-size: 15px;">reveal js</a> <a href="/tags/在线幻灯片/" style="font-size: 15px;">在线幻灯片</a> <a href="/tags/Platform/" style="font-size: 15px;">Platform</a> <a href="/tags/工作/" style="font-size: 15px;">工作</a> <a href="/tags/理论框架/" style="font-size: 15px;">理论框架</a> <a href="/tags/敏捷/" style="font-size: 15px;">敏捷</a> <a href="/tags/DevOps文化/" style="font-size: 15px;">DevOps文化</a> <a href="/tags/CALMS/" style="font-size: 15px;">CALMS</a> <a href="/tags/Agile/" style="font-size: 15px;">Agile</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/代码/" style="font-size: 15px;">代码</a> <a href="/tags/Ansible/" style="font-size: 15px;">Ansible</a> <a href="/tags/自动化运维/" style="font-size: 15px;">自动化运维</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/DataBase/" style="font-size: 15px;">DataBase</a> <a href="/tags/数据库/" style="font-size: 15px;">数据库</a> <a href="/tags/爬虫/" style="font-size: 15px;">爬虫</a> <a href="/tags/HTTP/" style="font-size: 15px;">HTTP</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/Shell/" style="font-size: 15px;">Shell</a> <a href="/tags/TDD/" style="font-size: 15px;">TDD</a> <a href="/tags/版本管理/" style="font-size: 15px;">版本管理</a> <a href="/tags/雪花服务器/" style="font-size: 15px;">雪花服务器</a> <a href="/tags/凤凰式服务/" style="font-size: 15px;">凤凰式服务</a> <a href="/tags/部署与发布/" style="font-size: 15px;">部署与发布</a> <a href="/tags/持续部署/" style="font-size: 15px;">持续部署</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="https://blog.waterstrong.me/" title="Waterstrong" target="_blank">Waterstrong</a><ul></ul><a href="http://www.huangbowen.net" title="黄博文：我是一个程序员" target="_blank">黄博文：我是一个程序员</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |  <a href="/atom.xml">订阅</a> |  <a href="/about/">关于</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">杜屹东.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-80279850-1','auto');ga('send','pageview');
</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?c2bba36c0e13cdda70e309bd24cbb844";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/search.json.js?v=2.0.0"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.0" async></script><script>var disqus_shortname = 'www-duyidong-com';
var disqus_identifier = '2017/09/23/openshift-cluster-in-aws/';
var disqus_title = 'Openshift 多节点部署';
var disqus_url = 'https://www.duyidong.com/2017/09/23/openshift-cluster-in-aws/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//www-duyidong-com.disqus.com/count.js" async></script><script type="text/javascript" src="//www-duyidong-com.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></body></html>