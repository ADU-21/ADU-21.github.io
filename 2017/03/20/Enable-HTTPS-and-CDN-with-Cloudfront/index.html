<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="æœå±¹ä¸œçš„åšå®¢"><meta name="keywords" content="äº‘, AWS, Cloud, DevOps, æŒç»­äº¤ä»˜, æ•æ·, Python,"><title>ä½¿ç”¨AWSè§£é”HTTPSå’ŒCDN | æœå±¹ä¸œçš„åšå®¢</title><link rel="stylesheet" type="text/css" href="//fonts.css.network/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.0"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.0"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">ä½¿ç”¨AWSè§£é”HTTPSå’ŒCDN</h1><a id="logo" href="/.">æœå±¹ä¸œçš„åšå®¢</a><p class="description">Cloud &amp; DevOps</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> é¦–é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a><a href="/about/"><i class="fa fa-user"> å…³äº</i></a><a href="/atom.xml"><i class="fa fa-rss"> è®¢é˜…</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="æœç´¢..."></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">ä½¿ç”¨AWSè§£é”HTTPSå’ŒCDN</h1><div class="post-meta"><span class="date">Mar 20, 2017</span><span class="category"><a href="/categories/æˆ‘çš„åšå®¢/">æˆ‘çš„åšå®¢</a></span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i> Hits</i></i></span><a href="/2017/03/20/Enable-HTTPS-and-CDN-with-Cloudfront/#comments" class="comment-count"><i data-disqus-identifier="2017/03/20/Enable-HTTPS-and-CDN-with-Cloudfront/" class="disqus-comment-count"></i> ç•™è¨€</a></div><div class="post-content"><p>åœ¨ä¸Šä¸€ç¯‡åšå®¢ä¸­ï¼Œç¬”è€…å·²ç»ä»‹ç»äº†<a href="https://www.duyidong.com/2017/03/07/Deploy-Hexo-to-S3/">å°†hexoåšå®¢å‘å¸ƒåˆ°S3</a>ï¼Œè¿™ä¸€éƒ¨åˆ†æˆ‘å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨AWSçš„Route53åº”ç”¨ä¸Šè‡ªå·±çš„åŸŸåï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨Cloudfrontå¼€å¯HTTPS/HTTP2å’ŒCDNåŠ é€Ÿã€‚</p>
<h2 id="å…³äºRoute53"><a href="#å…³äºRoute53" class="headerlink" title="å…³äºRoute53"></a>å…³äºRoute53</h2><p>Route53æ˜¯AWSæä¾›çš„DNSæœåŠ¡ï¼Œæä¾›å¸¸è§åŸŸåæœåŠ¡ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨Route53æ³¨å†Œä½¿ç”¨åŸŸåï¼ŒæŒ‡å‘è‡ªå·±çš„æœåŠ¡ï¼Œå¯ä»¥é™¤äº†ä¸€èˆ¬åŸŸåæœåŠ¡éƒ½æ”¯æŒçš„Aç±»åœ°å€ï¼ˆç›´æ¥æŒ‡å‘IPï¼‰ï¼ŒåŠCNAMEï¼ˆæŒ‡å‘å¦ä¸€ä¸ªåŸŸåï¼‰ä»¥å¤–ï¼ŒRoute53è¿˜æ”¯æŒä¸€ä¸ªåŠŸèƒ½å«åšA-recordï¼Œå³å¯ä»¥å°†DNSæŒ‡å‘AWSå†…éƒ¨çš„èµ„æºï¼Œè¯¥æœåŠ¡åŠŸèƒ½ä¸CNAMEåŸºæœ¬ç›¸åŒï¼Œä½†æ˜¯å…è´¹ã€‚æ­¤å¤–ï¼ŒRoute53æ”¯æŒä»¥ä¸‹å‡ ç§è·¯ç”±ç­–ç•¥ï¼š</p>
<ul>
<li><strong>Simple Routing Policy</strong>ï¼šé€šå¸¸åœ¨åªæœ‰ä¸€ä¸ªèµ„æºçš„æ—¶å€™ä½¿ç”¨è¿™ç§ç­–ç•¥ï¼Œè¯¥ç§ç­–ç•¥ä¼šè‡ªç”±ï¼ˆå¹³å‡ï¼‰åˆ†é…è´Ÿè½½ç»™æ‰€å±èµ„æº</li>
<li><strong>Weighted Routing Policy</strong>ï¼šåŠ æƒè·¯ç”±ï¼Œè¿™ç§è·¯ç”±ç­–ç•¥æ”¯æŒç”¨æˆ·æŒ‡å®šçš„è·¯ç”±ç™¾åˆ†æ¯”ï¼Œæ¯”å¦‚ç™¾åˆ†ä¹‹20çš„æµé‡å¯¼å…¥æµ‹è¯•ç¯å¢ƒï¼Œç™¾åˆ†ä¹‹80çš„æµé‡å¯¼å…¥äº§å“ç¯å¢ƒï¼Œç”¨äºè¿›è¡ŒABæµ‹è¯•ã€‚</li>
<li><strong>Latency Routing Policy</strong>ï¼šè¯¥ç§ç­–ç•¥ä¼šæ ¹æ®å®¢æˆ·ç«¯è®¿é—®çš„å»¶è¿Ÿæƒ…å†µé€‰æ‹©åˆé€‚çš„æœåŠ¡ï¼Œæ¯”å¦‚ä¸€ä¸ªå®¢æˆ·è®¿é—®Aå»¶è¿Ÿä¸º20æ¯«ç§’ï¼Œè®¿é—®BæœåŠ¡å»¶è¿Ÿä¸º250æ¯«ç§’ï¼Œé‚£Latency Routingå°±ä¼šæŠŠè¯¥ç”¨æˆ·çš„è®¿é—®å¯¼å…¥AæœåŠ¡ã€‚</li>
<li><strong>Failover Routing Policy</strong>ï¼šè¯¥è·¯ç”±ç­–ç•¥åœ¨å…¶ä¸­ä¸€ä¸ªè¢«è·¯ç”±èµ„æºå®•æœºçš„æƒ…å†µä¸‹ä¼šåœæ­¢æµé‡å¼•å…¥ï¼Œä»è€Œé¿å…ç”¨æˆ·è®¿é—®åˆ°é”™è¯¯é¡µé¢ï¼Œè¿™é‡Œæ¶‰åŠåˆ°Route53çš„å¦ä¸€ä¸ªåŠŸèƒ½â€”â€”â€”å¥åº·æ£€æŸ¥ã€‚</li>
<li><strong>Geolocation Routing Policy</strong>ï¼šåœ°ç†ä½ç½®ç­–ç•¥å…è®¸ç”¨æˆ·è®¾ç½®å°†ä¸åŒåœ°ç†ä½ç½®çš„ç”¨æˆ·æµé‡å¯¼å…¥åˆ°ä¸åŒæœåŠ¡ï¼Œä¾‹å¦‚å¸Œæœ›æ‚‰å°¼çš„ç”¨æˆ·å’ŒåŒ—äº¬çš„ç”¨æˆ·åœ¨ä¸€ä¸ªç½‘ç«™ä¸Šçœ‹åˆ°ä¸åŒçš„é¡µé¢ï¼Œå¯ä»¥é‡‡ç”¨è¿™ç§è·¯ç”±æ–¹å¼ã€‚</li>
</ul>
<h2 id="å…³äºCloudfront"><a href="#å…³äºCloudfront" class="headerlink" title="å…³äºCloudfront"></a>å…³äºCloudfront</h2><p>Cloudfrontæ˜¯AWSçš„CNDæœåŠ¡ï¼Œåˆ©ç”¨AWSåˆ†å¸ƒåœ¨å…¨çƒçš„èŠ‚ç‚¹æœåŠ¡å™¨ï¼ˆEdge Locationï¼‰ç¼“å­˜ç”¨æˆ·çš„è®¿é—®ï¼Œç”¨æˆ·åœ¨ç¬¬äºŒæ¬¡è®¿é—®ï¼ˆæˆ–åŒåŒºåŸŸçš„å¦ä¸€ä¸ªç”¨æˆ·åœ¨éé¦–æ¬¡è®¿é—®ï¼‰é¡µé¢æ—¶ä¼šç›´æ¥ä»èŠ‚ç‚¹æœåŠ¡å™¨å–åˆ°å·²ç»ç¼“å­˜çš„æ•°æ®ï¼Œé€Ÿåº¦ä¼šå¤§å¤§åŠ å¿«ã€‚<br>åŒç†ï¼ŒCloudfrontä¹Ÿå¯ä»¥ç”¨äºæ–‡ä»¶ä¸Šä¼ ã€‚</p>
<h2 id="ç”³è¯·Route53å’ŒCloudfrontæƒé™"><a href="#ç”³è¯·Route53å’ŒCloudfrontæƒé™" class="headerlink" title="ç”³è¯·Route53å’ŒCloudfrontæƒé™"></a>ç”³è¯·Route53å’ŒCloudfrontæƒé™</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰è´¦æˆ·éƒ½æ˜¯æ²¡æœ‰å¼€å¯Cloudfrontå’ŒRoute53æœåŠ¡çš„ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦ä½¿ç”¨è´¦å·æ³¨å†Œé‚®ç®±å‘é€é‚®ä»¶åˆ°<a href="aws-verification@amazon.com">aws-verification@amazon.com</a>ç”³è¯·å¼€é€šã€‚</p>
<h2 id="ç”³è¯·åŸŸå"><a href="#ç”³è¯·åŸŸå" class="headerlink" title="ç”³è¯·åŸŸå"></a>ç”³è¯·åŸŸå</h2><p>å¾—åˆ°æœåŠ¡ä½¿ç”¨æƒé™ä¹‹åï¼Œè¿˜éœ€è¦ç”³è¯·ä¸€ä¸ªåŸŸåï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥åœ¨AWSçš„<a href="https://console.aws.amazon.com/cloudfront/route53" target="_blank" rel="external">Route53</a>è¿›è¡Œè´­ä¹°ï¼Œä¹Ÿå¯ä»¥åœ¨é˜¿é‡Œäº‘çš„<a href="https://wanwang.aliyun.com/domain/" target="_blank" rel="external">ä¸‡ç½‘</a>æ³¨å†Œä¸€ä¸ªåŸŸåï¼ŒåŸŸåä¼šæŒ‰ä½¿ç”¨å¹´æ•°æ”¶è´¹ï¼Œä¸åŒåŸŸåæ”¶è´¹ä¸åŒã€‚<br>åœ¨äºšé©¬é€Šè´­ä¹°åŸŸåï¼Œåªéœ€è¦è¿›å…¥<a href="https://console.aws.amazon.com/route53/home" target="_blank" rel="external">Console</a>ï¼Œåœ¨<strong>Register Domain</strong>æ è¾“å…¥ä½ æƒ³è¦çš„åŸŸåï¼Œç‚¹é€‰Checkï¼Œæ¥ä¸‹æ¥å¦‚æœåŸŸåå¯ç”¨ï¼Œå¯ä»¥Add to Cardç„¶åä»˜è´¹å³å¯ã€‚å¤§çº¦ä¸€å°æ—¶åï¼Œè¿™ä¸ªåŸŸåå°±å¯ä»¥è¢«ä½¿ç”¨äº†ã€‚</p>
<p><img src="/images/Route53_Register_Domain.png" alt=""></p>
<h2 id="é…ç½®Cloudfront"><a href="#é…ç½®Cloudfront" class="headerlink" title="é…ç½®Cloudfront"></a>é…ç½®Cloudfront</h2><p>ç‚¹å‡»<strong>Create Distribution</strong>æŒ‰é’®ï¼ŒDelivery methodé€‰æ‹©Webã€‚ Webä¸»è¦é’ˆå¯¹ä¸€äº›htmlï¼Œcss,jsç­‰é™æ€æ–‡ä»¶ï¼Œè€ŒRTMPåˆ™ä¸»è¦æ˜¯ä¸€äº›éŸ³è§†é¢‘æ–‡ä»¶ã€‚ç‚¹é€‰â€œGet Startâ€ã€‚</p>
<p><img src="/images/Clouldfront_Configure_Select_Delivery_Method.png" alt=""></p>
<p>ä¸‹ä¸€æ­¥ï¼Œè¦é€‰æ‹©Origin,å³è¦è¿›è¡Œå†…å®¹åˆ†å‘çš„æºã€‚è™½ç„¶äºšé©¬é€Šä¼šè‡ªåŠ¨åˆ—å‡ºä½ çš„S3 bucketï¼Œä½†æ˜¯åƒä¸‡ä¸è¦é€‰ã€‚è€Œæ˜¯è‡ªå·±æ‰‹åŠ¨è¾“å…¥example.comè¿™ä¸ªBucketçš„Endpoint(Endpointåœ¨S3 Consoleçš„Propertiesæ ‡ç­¾ä¸‹çš„Static Website hostingé‡Œçœ‹å¾—åˆ°)ã€‚ä¸ºä»€ä¹ˆä¸ç›´æ¥é€‰S3 bucketé‚£?è¿™æ˜¯å› ä¸ºå½“æˆ‘ä»¬è®¿é—®ä¸€ä¸ªç›®å½•æ—¶ï¼Œæˆ‘ä»¬æœŸæœ›èƒ½è¿”å›é»˜è®¤çš„objectã€‚è™½ç„¶CouldFrontæœ‰ä¸ªDefault Root Objectè®¾ç½®ï¼Œåªæ˜¯å¯¹æ ¹ç›®å½•èµ·ä½œç”¨ï¼Œå¯¹å­ç›®å½•ä¸èµ·ä½œç”¨ã€‚å¦‚æœä½¿ç”¨Bucketçš„Endpointï¼Œå†åŠ ä¸Šä¹‹å‰å·²ç»ç»™è¯¥Bucketé…ç½®äº†Default Objectï¼Œå°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p><img src="/images/Clouldfront_Configure_Origin_Domain_Name.png" alt=""></p>
<p>é€‰æ‹©å°†HTTPé‡å®šå‘åˆ°HTTPSï¼Œåœ¨CNAMEsé¡¹ä¸­è¾“å…¥è‡ªå·±çš„åŸŸåï¼Œå¤šä¸ªåŸŸåä»¥é€—å·åˆ†éš”ã€‚<br>åœ¨Distribution Settingä¸‹é€‰æ‹©ä½ è‡ªå·±çš„è¯ä¹¦(å¦‚æœæ²¡æœ‰å¯ä»¥ç‚¹é€‰Request or Import a Certificate with ACMå…è´¹ç”³è¯·)ã€‚</p>
<p><img src="/images/Clouldfront_Configure_Distribution_Setting.png" alt=""></p>
<p>[å¯é€‰]å‹¾é€‰Loggingï¼Œå¹¶é€‰æ‹©Bucket for Logsï¼Œå¯ä»¥æ‰“å°è®¿é—®ä¿¡æ¯ã€‚ç”±äºæ˜¯é™æ€ç½‘ç«™ï¼ŒCookieçš„Logå°±æ²¡æœ‰å¿…è¦äº†ã€‚</p>
<p><img src="/images/Clouldfront_Configure_Logging.png" alt=""></p>
<p>ç‚¹é€‰<strong>Create Distribution</strong>ï¼Œåˆ›å»ºæˆåŠŸï¼Œéœ€è¦ç­‰å¾…å¤§çº¦åŠå°æ—¶ç­‰å¾…Statusä»<code>In progress</code>å˜ä¸º<code>Deployed</code>ï¼Œåœ¨è¿™æœŸé—´å¯ä»¥é…ç½®Route53ã€‚</p>
<p><img src="/images/Clouldfront_Configure_Success.png" alt=""></p>
<p>é…ç½®æˆåŠŸåå¯ä»¥åœ¨ç®¡ç†å‘˜é¢æ¿ä¿®æ”¹æ‰€æœ‰åˆ›å»ºDistributionæ—¶è®¾ç½®çš„å‚æ•°ï¼Œå¹¶å¯ä»¥å¢åŠ Error Pageç­‰è®¾ç½®ã€‚</p>
<p><img src="/images/Clouldfront_Configure_Admin.png" alt=""></p>
<blockquote>
<ul>
<li>æ³¨æ„ï¼šCloudfrontçš„é…ç½®æ¯æ¬¡æ›´æ”¹éƒ½éœ€è¦ä»æ–°éƒ¨ç½²ï¼Œæ¯æ¬¡é‡æ–°éƒ¨ç½²éƒ½éœ€è¦å¤§çº¦åŠå°æ—¶æ—¶é—´ï¼Œä¸ºäº†é¿å…ä¸å¿…è¦çš„æ—¶é—´æµªè´¹ï¼Œæœ€å¥½æ˜¯ä¸€æ¬¡é…ç½®æˆåŠŸï¼Œä¸ç„¶çœŸçš„å¾ˆç—›è‹¦ã€‚ã€‚</li>
<li>å¦å¤–ï¼Œå…³äºCloudfrontçš„æ—¥å¿—ï¼ŒAWSä¸ä¼šé’ˆå¯¹æ—¥å¿—åŠŸèƒ½è¿›è¡Œæ”¶è´¹ï¼Œä½†ç”¨æˆ·éœ€è¦å¯¹å ç”¨çš„S3 bucketå­˜å‚¨å’Œè®¿é—®ä»˜è´¹ï¼Œæ—¥å¿—å†…å®¹å¤§æ¦‚å’ŒNginxçš„access.logå·®ä¸å¤šï¼Œä¸ªäººè§‰å¾—AWSçš„<a href="https://console.aws.amazon.com/cloudfront/home#cache_stat_reports" target="_blank" rel="external">Reports &amp; Analytics</a>å·²ç»åšå¾—å¾ˆå¥½äº†ï¼Œæ—¥å¿—æœ‰äº›å¤šä½™ï¼Œå»ºè®®å¯ä»¥åœ¨å­¦ä¹ å®Œåå…³é—­ã€‚</li>
</ul>
</blockquote>
<h3 id="å…³äºç¼“å­˜æ—¶é—´"><a href="#å…³äºç¼“å­˜æ—¶é—´" class="headerlink" title="å…³äºç¼“å­˜æ—¶é—´"></a>å…³äºç¼“å­˜æ—¶é—´</h3><p>å…³äºS3é‡Œçš„Objectåœ¨Cloudfrontçš„å„èŠ‚ç‚¹ç¼“å­˜çš„æ—¶é—´ï¼Œé»˜è®¤ä¸º24å°æ—¶ï¼Œä¹Ÿå°±æ˜¯è¯´å½“æˆ‘å‘å¸ƒä¸€ç¯‡æ–°åšå®¢ï¼Œç”±äºä¸»é¡µindex.htmlåå­—æ²¡æœ‰å˜åŒ–ï¼Œåªæ˜¯æ›´æ–°äº†æ–°ç‰ˆæœ¬ï¼Œæˆ‘è¦ç­‰åˆ°24å°æ—¶åæ—§ç‰ˆæœ¬è¿‡æœŸæ‰èƒ½çœ‹åˆ°æ–°çš„é¡µé¢ï¼Œè¿™å¯¹æˆ‘çš„å°åšå®¢æ¥è¯´æ—¶é—´å¤ªé•¿äº†ï¼Œéœ€è¦æ›´æ”¹è¿™ä¸ªCacheæ—¶é—´ï¼Œæ›´æ”¹Cacheæ—¶é—´æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€æ˜¯æ›´æ”¹TTLï¼ˆTime To Liveï¼‰æ—¶é—´ï¼ŒäºŒæ˜¯å¢åŠ <code>Cache-Control: max-age=[seconds]</code>çš„heaederï¼Œå…³äºç¬¬äºŒç§æ–¹å¼ï¼Œå…·ä½“å‚è§<a href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Expiration.html#expiration-individual-objects" target="_blank" rel="external">å®˜æ–¹æ–‡æ¡£</a>ï¼Œè¿™é‡Œæˆ‘è¯´ä¸€ä¸‹å¦‚ä½•æ›´æ”¹TTLï¼š<br>è¿›å…¥Distributionçš„ç®¡ç†å‘˜ç•Œé¢ï¼Œé€‰æ‹©<strong>Behaviors</strong>æ ‡ç­¾ï¼Œå‹¾é€‰å¾…ç¼–è¾‘çš„Behaviorï¼Œç‚¹é€‰<strong>Edit</strong></p>
<p><img src="/images/Cloudfront_Distributions_Behaviors.png" alt=""></p>
<p>åœ¨Edit Behavioré¡µé¢Object Cachingé¡¹ç›®å‹¾é€‰<strong>Customize</strong>è‡ªå®šä¹‰TTLï¼Œå°†Default TTLæ”¹ä¸º3600ï¼ˆ1å°æ—¶ï¼‰ç‚¹é€‰<strong>Yesï¼ŒEdit</strong>å³å¯ã€‚<br>åŒæ ·ï¼Œæ›´æ–°é…ç½®è¦ç­‰å¾…åŠå°æ—¶å·¦å³æ–¹èƒ½ç”Ÿæ•ˆã€‚</p>
<blockquote>
<ul>
<li>å‚è§ <a href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Expiration.html" target="_blank" rel="external">Specifying How Long Objects Stay in a CloudFront Edge Cache (Expiration)</a></li>
</ul>
</blockquote>
<h4 id="é¦–é¡µç¼“å­˜æ—¶é—´"><a href="#é¦–é¡µç¼“å­˜æ—¶é—´" class="headerlink" title="é¦–é¡µç¼“å­˜æ—¶é—´"></a>é¦–é¡µç¼“å­˜æ—¶é—´</h4><p>æ›´æ”¹TTLåï¼Œé¦–é¡µçš„æ›´æ–°ä¹Ÿéœ€è¦ä¸€ä¸ªå°æ—¶ï¼Œå¯¹å¤§éƒ¨åˆ†æƒ…å†µæ¥è¯´è¿™ä¸ªæ—¶é—´è¿˜æ˜¯æ¯”è¾ƒé•¿ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥é€šè¿‡æ›´æ”¹S3çš„Bucketé‡Œé¢çš„Objectçš„Metadataçš„æ–¹å¼å¢åŠ <code>Cache-Control</code>çš„Headeræ¥è¿›ä¸€æ­¥å‡å°‘é¦–é¡µçš„Cacheæ—¶é—´ã€‚</p>
<p><img src="/images/Cloudfront_S3_Metadata.png" alt=""></p>
<blockquote>
<ul>
<li>è¿™ä¸ªæ‰‹åŠ¨çš„è®¾ç½®ä¼šåœ¨æ¯æ¬¡Deployçš„æ—¶å€™è¢«è¦†ç›–ï¼Œæ‰€ä»¥éœ€è¦ç»™Deployæ’ä»¶å¢åŠ Update Metadata/Headerçš„è®¾ç½®ã€‚</li>
</ul>
</blockquote>
<h3 id="å¦‚ä½•æ¸…é™¤ç¼“å­˜"><a href="#å¦‚ä½•æ¸…é™¤ç¼“å­˜" class="headerlink" title="å¦‚ä½•æ¸…é™¤ç¼“å­˜"></a>å¦‚ä½•æ¸…é™¤ç¼“å­˜</h3><h2 id="é…ç½®Route53"><a href="#é…ç½®Route53" class="headerlink" title="é…ç½®Route53"></a>é…ç½®Route53</h2><p>è¿›å…¥Route53çš„<a href="https://console.aws.amazon.com/route53/home" target="_blank" rel="external">Console</a>ï¼Œè¿›å…¥<strong>Hosted Zones</strong>æ ‡ç­¾ï¼Œç‚¹é€‰ä½¿ç”¨çš„Domain Nameã€‚</p>
<p><img src="/images/Route53_Host_Zones.png" alt=""></p>
<p>ç‚¹é€‰<strong>Create Record Set</strong>ï¼Œè¾“å…¥äºŒçº§åŸŸåä¸‹çš„ä¸‰çº§åŸŸåï¼ˆå¯ä»¥ç½®ç©ºï¼‰ï¼Œé€‰æ‹©Typeä¸ºAç±»åœ°å€ï¼Œé€‰æ‹©ä¸€ä¸ªA-recordï¼‰ï¼Œåœ¨AWSçš„å†…éƒ¨èµ„æºä¸­é€‰æ‹©Cloudfrontä¸‹å¯¹åº”ä½ åšå®¢çš„åŸŸåï¼ŒRoute Policyä¸ºé»˜è®¤çš„Simpleå³å¯ï¼Œç‚¹é€‰<strong>Save Record Set</strong></p>
<p><img src="/images/Route53_Create_Record_Set.png" alt=""></p>
<p>åªéœ€è¦æ•°åˆ†é’Ÿï¼ŒA-recordå³å¯ç”Ÿæ•ˆã€‚</p>
<h2 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h2><p>ç°åœ¨å¯ä»¥é€šè¿‡HTTPSè®¿é—®æˆ‘åœ¨æ¯ä¸ªEdge Locationç¼“å­˜çš„åšå®¢äº†ï¼š</p>
<p><a href="https://www.duyidong.com">https://www.duyidong.com</a></p>
<p>ç»æµ‹è¯•ï¼ŒåŒä¸€ä¸ªé¡µé¢åœ¨åŠ ä¸ŠCloudfrontä¹‹å‰ï¼ˆåœ¨S3 bucketä¸­ï¼‰è®¿é—®æ—¶é—´æ˜¯11ç§’ï¼Œä½¿ç”¨gitHub.io(å¸¦CDN)æ˜¯6ç§’ï¼Œä½¿ç”¨Cloudfrontä¹‹ååŠ è½½æ—¶é—´å¤§æ¦‚æ˜¯2.4ç§’ï¼Œå¯è§Cloudfrontçš„åŠ é€Ÿæ•ˆæœæ˜¯éå¸¸ç†æƒ³çš„ã€‚</p>
<blockquote>
<ul>
<li>å‚è€ƒèµ„æ–™</li>
<li><a href="https://www.huangbowen.net/blog/2013/10/01/migrate-octopress-to-aws-step-2/" target="_blank" rel="external">https://www.huangbowen.net/blog/2013/10/01/migrate-octopress-to-aws-step-2/</a></li>
<li><a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-policy.html" target="_blank" rel="external">https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-policy.html</a></li>
<li><a href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Expiration.html" target="_blank" rel="external">https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Expiration.html</a></li>
</ul>
</blockquote>
</div><div class="tags"><a href="/tags/AWS/">AWS</a><a href="/tags/Blog/">Blog</a><a href="/tags/HTTPS/">HTTPS</a><a href="/tags/CDN/">CDN</a><a href="/tags/Cloudfront/">Cloudfront</a><a href="/tags/Route53/">Route53</a><a href="/tags/åšå®¢ä¸Šäº‘/">åšå®¢ä¸Šäº‘</a></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">åˆ†äº«åˆ°ï¼š</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="åˆ†äº«åˆ°ä¸€é”®åˆ†äº«" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="åˆ†äº«åˆ°Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="åˆ†äº«åˆ°Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="åˆ†äº«åˆ°linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="åˆ†äº«åˆ°æœ‰é“äº‘ç¬”è®°" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="åˆ†äº«åˆ°å°è±¡ç¬”è®°" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="åˆ†äº«åˆ°å¾®ä¿¡" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="åˆ†äº«åˆ°QQç©ºé—´" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="åˆ†äº«åˆ°æ–°æµªå¾®åš" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/2017/03/23/AWS-well-architected-framework/" class="pre">AWSè®¤ä¸ºï¼Œä»€ä¹ˆæ ·çš„æ¶æ„æ˜¯ä¸€ä¸ªè‰¯å¥½çš„æ¶æ„</a><a href="/2017/03/15/AWS-EC2/" class="next">AWSè™šæ‹ŸæœºEC2</a></div><div id="comments"><div id="disqus_thread"></div></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">æ–‡ç« ç›®å½•</i></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#å…³äºRoute53"><span class="toc-text">å…³äºRoute53</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å…³äºCloudfront"><span class="toc-text">å…³äºCloudfront</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ç”³è¯·Route53å’ŒCloudfrontæƒé™"><span class="toc-text">ç”³è¯·Route53å’ŒCloudfrontæƒé™</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ç”³è¯·åŸŸå"><span class="toc-text">ç”³è¯·åŸŸå</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#é…ç½®Cloudfront"><span class="toc-text">é…ç½®Cloudfront</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#å…³äºç¼“å­˜æ—¶é—´"><span class="toc-text">å…³äºç¼“å­˜æ—¶é—´</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#é¦–é¡µç¼“å­˜æ—¶é—´"><span class="toc-text">é¦–é¡µç¼“å­˜æ—¶é—´</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å¦‚ä½•æ¸…é™¤ç¼“å­˜"><span class="toc-text">å¦‚ä½•æ¸…é™¤ç¼“å­˜</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#é…ç½®Route53"><span class="toc-text">é…ç½®Route53</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#éªŒè¯"><span class="toc-text">éªŒè¯</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> æœ€æ–°æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/05/03/Cloud-Native/">äº‘åŸç”Ÿåº”ç”¨ (Cloud Native Application)</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/13/Infrastructure-as-Code-Testing/">åŸºç¡€è®¾æ–½ä»£ç æµ‹è¯•</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/12/leave-TW/">ç¦»éªš</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/05/How-to-pass-the-aws-certification/">AWSåŠ©ç†æ¶æ„å¸ˆè®¤è¯è€ƒç»</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/23/AWS-well-architected-framework/">AWSè®¤ä¸ºï¼Œä»€ä¹ˆæ ·çš„æ¶æ„æ˜¯ä¸€ä¸ªè‰¯å¥½çš„æ¶æ„</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/20/Enable-HTTPS-and-CDN-with-Cloudfront/">ä½¿ç”¨AWSè§£é”HTTPSå’ŒCDN</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/15/AWS-EC2/">AWSè™šæ‹ŸæœºEC2</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/13/AWS-S3/">AWSå¯¹è±¡å­˜å‚¨æœåŠ¡S3</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/07/Deploy-Hexo-to-S3/">å°†Hexoåšå®¢å‘å¸ƒåˆ°S3</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/06/æµ…è°ˆAWS-IAM/">æµ…è°ˆAWS IAM</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> åˆ†ç±»</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Amazon-Web-Services/">Amazon Web Services</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Cloud/">Cloud</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/">DevOps</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ThoughtWorks/">ThoughtWorks</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/å­¦ä¹ æ€»ç»“/">å­¦ä¹ æ€»ç»“</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/å·¥å…·/">å·¥å…·</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/æˆ‘çš„åšå®¢/">æˆ‘çš„åšå®¢</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/æŒç»­äº¤ä»˜/">æŒç»­äº¤ä»˜</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/æ•æ·æ–‡åŒ–/">æ•æ·æ–‡åŒ–</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="/tags/Route53/" style="font-size: 15px;">Route53</a> <a href="/tags/å­¦ä¹ /" style="font-size: 15px;">å­¦ä¹ </a> <a href="/tags/vim/" style="font-size: 15px;">vim</a> <a href="/tags/å·¥å…·/" style="font-size: 15px;">å·¥å…·</a> <a href="/tags/å¤§äº‹è®°/" style="font-size: 15px;">å¤§äº‹è®°</a> <a href="/tags/å°è®¡/" style="font-size: 15px;">å°è®¡</a> <a href="/tags/AWS/" style="font-size: 15px;">AWS</a> <a href="/tags/Serverless/" style="font-size: 15px;">Serverless</a> <a href="/tags/æ— æœåŠ¡å™¨æ¶æ„/" style="font-size: 15px;">æ— æœåŠ¡å™¨æ¶æ„</a> <a href="/tags/Lambda/" style="font-size: 15px;">Lambda</a> <a href="/tags/S3/" style="font-size: 15px;">S3</a> <a href="/tags/å¯¹è±¡å­˜å‚¨æœåŠ¡/" style="font-size: 15px;">å¯¹è±¡å­˜å‚¨æœåŠ¡</a> <a href="/tags/äºšé©¬é€Šè®¤è¯ä¸æƒé™/" style="font-size: 15px;">äºšé©¬é€Šè®¤è¯ä¸æƒé™</a> <a href="/tags/Security/" style="font-size: 15px;">Security</a> <a href="/tags/IAM/" style="font-size: 15px;">IAM</a> <a href="/tags/äº‘è®¡ç®—/" style="font-size: 15px;">äº‘è®¡ç®—</a> <a href="/tags/EC2/" style="font-size: 15px;">EC2</a> <a href="/tags/Blog/" style="font-size: 15px;">Blog</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/Cloud-Native/" style="font-size: 15px;">Cloud Native</a> <a href="/tags/Cloud/" style="font-size: 15px;">Cloud</a> <a href="/tags/ç¿»è¯‘/" style="font-size: 15px;">ç¿»è¯‘</a> <a href="/tags/äº‘è®¡ç®—è®¤è¯/" style="font-size: 15px;">äº‘è®¡ç®—è®¤è¯</a> <a href="/tags/Certification/" style="font-size: 15px;">Certification</a> <a href="/tags/AWSè®¤è¯è€ƒè¯•/" style="font-size: 15px;">AWSè®¤è¯è€ƒè¯•</a> <a href="/tags/HTTPS/" style="font-size: 15px;">HTTPS</a> <a href="/tags/CDN/" style="font-size: 15px;">CDN</a> <a href="/tags/Cloudfront/" style="font-size: 15px;">Cloudfront</a> <a href="/tags/å°ç»“/" style="font-size: 15px;">å°ç»“</a> <a href="/tags/åšå®¢ä¸Šäº‘/" style="font-size: 15px;">åšå®¢ä¸Šäº‘</a> <a href="/tags/DevOps/" style="font-size: 15px;">DevOps</a> <a href="/tags/åŸºç¡€è®¾æ–½å³ä»£ç /" style="font-size: 15px;">åŸºç¡€è®¾æ–½å³ä»£ç </a> <a href="/tags/ThoughtWorks/" style="font-size: 15px;">ThoughtWorks</a> <a href="/tags/èŒåœº/" style="font-size: 15px;">èŒåœº</a> <a href="/tags/æ¶æ„/" style="font-size: 15px;">æ¶æ„</a> <a href="/tags/Agile/" style="font-size: 15px;">Agile</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/ä»£ç /" style="font-size: 15px;">ä»£ç </a> <a href="/tags/Ansible/" style="font-size: 15px;">Ansible</a> <a href="/tags/è‡ªåŠ¨åŒ–è¿ç»´/" style="font-size: 15px;">è‡ªåŠ¨åŒ–è¿ç»´</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/Shell/" style="font-size: 15px;">Shell</a> <a href="/tags/DataBase/" style="font-size: 15px;">DataBase</a> <a href="/tags/HTTP/" style="font-size: 15px;">HTTP</a> <a href="/tags/æ•°æ®åº“/" style="font-size: 15px;">æ•°æ®åº“</a> <a href="/tags/çˆ¬è™«/" style="font-size: 15px;">çˆ¬è™«</a> <a href="/tags/TDD/" style="font-size: 15px;">TDD</a> <a href="/tags/å‡¤å‡°å¼æœåŠ¡/" style="font-size: 15px;">å‡¤å‡°å¼æœåŠ¡</a> <a href="/tags/Infrastructure-as-Code/" style="font-size: 15px;">Infrastructure as Code</a> <a href="/tags/ThoughtWorksæŠ€æœ¯é›·è¾¾/" style="font-size: 15px;">ThoughtWorksæŠ€æœ¯é›·è¾¾</a> <a href="/tags/æŒç»­äº¤ä»˜/" style="font-size: 15px;">æŒç»­äº¤ä»˜</a> <a href="/tags/ç‰ˆæœ¬ç®¡ç†/" style="font-size: 15px;">ç‰ˆæœ¬ç®¡ç†</a> <a href="/tags/é¢è¯•/" style="font-size: 15px;">é¢è¯•</a> <a href="/tags/éƒ¨ç½²ä¸å‘å¸ƒ/" style="font-size: 15px;">éƒ¨ç½²ä¸å‘å¸ƒ</a> <a href="/tags/æŒç»­éƒ¨ç½²/" style="font-size: 15px;">æŒç»­éƒ¨ç½²</a> <a href="/tags/é›ªèŠ±æœåŠ¡å™¨/" style="font-size: 15px;">é›ªèŠ±æœåŠ¡å™¨</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> å½’æ¡£</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">äº”æœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">å››æœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">ä¸‰æœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">äºŒæœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">ä¸€æœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">åä¸€æœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">åæœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">ä¹æœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">å…«æœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">ä¸ƒæœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">å…­æœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">äº”æœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">å››æœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">ä¸‰æœˆ 2016</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> å‹æƒ…é“¾æ¥</i></div><ul></ul><a href="https://blog.waterstrong.me/" title="Waterstrong" target="_blank">Waterstrong</a><ul></ul><a href="http://www.huangbowen.net" title="é»„åšæ–‡ï¼šæˆ‘æ˜¯ä¸€ä¸ªç¨‹åºå‘˜" target="_blank">é»„åšæ–‡ï¼šæˆ‘æ˜¯ä¸€ä¸ªç¨‹åºå‘˜</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">ç½‘ç«™åœ°å›¾</a> |  <a href="/atom.xml">è®¢é˜…</a> |  <a href="/about/">å…³äº</a></p><p>æœ¬ç«™æ€»è®¿é—®é‡ï¼š<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>æ¬¡</p><p><span> Copyright &copy;<a href="/." rel="nofollow">æœå±¹ä¸œ.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-80279850-1','auto');ga('send','pageview');
</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?b72da5a0d7b5ced639a01a28390e0e64";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/search.json.js?v=2.0.0"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.0" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"åˆ†äº«åˆ°ï¼š","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script><script>var disqus_shortname = 'www-duyidong-com';
var disqus_identifier = '2017/03/20/Enable-HTTPS-and-CDN-with-Cloudfront/';
var disqus_title = 'ä½¿ç”¨AWSè§£é”HTTPSå’ŒCDN';
var disqus_url = 'https://www.duyidong.com/2017/03/20/Enable-HTTPS-and-CDN-with-Cloudfront/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//www-duyidong-com.disqus.com/count.js" async></script><script type="text/javascript" src="//www-duyidong-com.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></body></html>